local lhc, lhcPal = {}, {} do
	local ht, hp = [=[.8q1!xӹ	h<W&ΥwC$;[pszpJVF[0,aUQAgPRN(,wȺ֪XE 8'acX	NRYOKWm9Ma$WJ$*v$s,=4XM#:u[W[FaY1RhnJt	yV2*S91(֬<%U2C3ekGu)f5hߺf(q&A9(LA|	V{%3ZGWTT=$CkZJ}6˔ΐW|g?# 0n."]lU|5=F|i>µlzޑ<uRA^vɶV<`#(azV͓͊A5a:-:WӚM:`r]aR륪/&`<*պ붙r^[hvf)5,6Qs@Gz7N6c-q%3wKX~?WHKV2ySY]y#)7I1^{vWչ2hڸewEW*w\7w_UӴE'^=#S{<!<T.MWM	x\=3l'!,Nj¯z"_SMи<y}&VwJI/6A8x6Ӂ2!l,FtyH1fM]T#<[x{aRK*SdP Nda5Q`)%[F^:m!N1җM(os@@5Y#N{Bj"Rk̫7՛2?$>苰KFCk2_\cYO	c(5Ia_,Vx{`atXnD&@<Bsm.k2F/QWE)/NRjL \)#9)cJ\谓6vs͠B^ǉK5:wآ[ tմI  K[5fΎ\sa~v\_RJ|>:r'&GxI1'YԔ7bjZiLKAT{9z:yq)f-;VL2`Ӧũٖ{yGNZzpO^hwn'Y}l\ش/uCPsqVRP7<I9PyC/;4nOA<pxH-nO5fˣfN9˸MU)D-VVd뫬KOܮJJ.\TH_؎Wߨ@/5ow+O!k'BZzKMF~|I.OO5g`2ZB2:H׎wއ|3=پ@' WdܚÜq۸hy߂te^ZA7bG$\ӖhKV'GvrP/#ĭ$3M孮gO8H]G,Ԟa=Kt@Al5[qXssX^ŎQ%x]z҃+$'/FtgŬD9<\GO\ćWv`Ɠ3pg(EeWSaQ9;FEʎfϥ!ʊxQ\2r}0Вy..I	"+N'dOg뉃uzV}c{%8hKJ"]s3DGLzЦk]eEN`pY)IJ9~f,/룿1vܛ{do,^2"c_\d9n#SuEi^C%uMCSJ޾ O/ O\jF:!.NO\7j`w4K.wvIv`V,Y.t°SFojSm'c/6"!t\a4٫+\6Ka_}5e&5THư(@}*_l1b;S`Pr3>h$j_FR	FxcV˔uGAmݺ<-cT+w{$-PO j[$$!iWƖ@B]1)҅QN7oe9& .x/zDQttMql0#Rc\藜!.~Q{>$B'%ZR52iJzHn,1K:>=<ʓ2Xի0/LLd .Hi߷gn^y-TRDӜ0MͶ=Zu@].)J-By;ԋUh¨0ChT7Qm*DCW+1`d" &P #	d7K;'wJ᷋E,|$"[awu_`<RTX1Z7@r,ey9kh=7@Y#+T.VX^DΏZ=`OP;*"PQ5_@24o~FqLYWv3t?jFM2Zqn~:Q[re$HM*rxJH}|i_:MqLO8@L1Oβn/XPc|+xR;r`tmJҁ7j+H@RvIFUuL.IWM({8680 3cvR*P{>"o|&rL[,7Ee,"'c[vxF@dԘ5#]bjb[HHЀxhRx{Qt$ѡ2(y'DzVy2)0L] 8!΃]	-75!w7	}Ժ2/r;mw\vbt	D}D{[6ju[#xSJ(^/0/'w+T/qBm-M`{AҮ\LʠoB*.ķww"c1/D.1~$xNn6jQ?SlTzf!>cyQt:lG/Ա"<΃:3(t^xlIȳĊg8CF/Q#:;&^}ky(J)L^!:wQY$]8̳~"qƳ9-EF"+A㗡!9BV|IhE2'P%/NN}BHJGpGibB9[㟒"/GFa>y9CB(D,""s9ҟ	CЍ?~R$<Cq#ı$dĿ"E=Z!%WKBY(BV,k-1/B$O"$9zwB؈Y{ϋ=AKE Ku.lD!ΔAQg&ҟK31hۘ	9D}监4;)I;a[?Garav"#y-d^A"BuMġ.z:=S}h[#/AηO,D?gϣ$J&(.\Dfw!KCBH_ܲ2yu'ȡvȸ"|d"C$B M9bQ/">I%Iɢ}E+A񥓈g,c"Aו?tlq	v8:#&$vHZtKY{D$|Z~%;_h?I_c%8IUċ_Dr|]w>HgD?u~|p0BK"-Cւf#~9{Y>Ju{=țH'.!╡CHM'W:cE'E,":2xsZ!$~wAI%;!CgzM?1b֗>rArSJ>FYCDy2Q?zMȮ_ctS?OqȗJb"]A':}D2FއM,Y"x̒lzb0EӤd;."d|Bd-J#:SJ3W9س$?w|;I9FL!iG 'o{/$ΜBP'ĹB睄R]W󟏋/yG9G%9DFZ&0K6|N"B9Ǳ~8yGc?ǒ.C|O2	dЂ;d|C}3_Ԕ}C)y'#D%?3CAy~$Gy!P|z&Hmʉz"GXhwAΒ2)C(NrfzZ-DelCՌM~HIB'&-9"?Ʉ磸CqГؒ&Gg?(grAxorzƲf"#'b9/'z]	܎ID~X:YUqҒM>9K,ZWC!>qb_&9}|XR\I	mE$qȌWx;$%93jrQ G.ZSg9O~c4ʽr%/\NNΘbdI1m7?D=gq!].':"B12&K8rJ;(ه#y!2Y˖T>c?g[+#~k^s([a	BG;"]IΔ;blD#:O$DgR7v:<rQ[6{dK$!=19"2'I7gE"ꈯsBOIaGgHxd{L&y%CrAB,WX"D=64q#!ltH璑z֙iCfwI7:yquG__#_<dд&.+mMobV&F=DtvCM?cܵϱɱ.bXJa鋎B)NoON#9:$"Pub>s1teI~Y&XrH<I4##zc	O!ֲ JEĸY濝osH<fG{r1yHugJ|F(]M>?!h9$HG\ !>3ZZG_iĉ8%GR,D"(WFntr.y8$t9+E_944	1Y_~K|E5_7dIA&M_ȗbz"aBUyIhydT]Gt}c۬FI(=( "I;%eɄ"dHOʌyxG&N(!|O?(y"|9ҿu9[jKLrs|sy||HE΃99Bg_#ksrHzRådMuނu%;%W bMyЂ}'G>,K},ǭ?dWe:#_K _AvL'ˣ+Zt9ea$_K_N$K&'B~Di{E$tFGϽs(9ֿ.~I:=Җ]&qsO??L!/!6#>LC${s]#&nn+L$}	K;FE''Y4<Ntblr?we֊b!vR8wß'ֵn"r>BeU'D";cǤ9|Xs63|c$X89I؄%	GrAÑqeHtLȗà\ʠJ.Co=H1bbȤu7'}}^!ٱ(1rBI:['h;9sN9DԔȇ/)$I"c"-	Jⷒ;MLxZgS)zE.k|9/!ɡxb"I-nߝ+Ϛ_c]]zޒ"xJQZFGr'	]y"?{}^BGB$"0EGDNvEyG?tIF$d;ğ&N-ZVD9ԐB-dИwCI'pɑkzD!.I8z18aLq>L'!C[$Y|^4"rPVrE<I#r?}MoC|DPI;"O"/bU!zECw<҆Dqyg;tqG%#_یbtA:09H"2L#D"[#5\QPDDEߚ(H#t!Rǯֿe(KЉĉd"%qq0epCЌI$DhG2?"btQ$dNWSqAHȇt	%\r>N:H9qG	DȒ9ēI Y݄4Oz}=wYa;%!)$a=!L<+1?|/bIӘ#>d{?$=gdc&M'є"֏|vNCȊ/u+8dŝK;Jؓi9%+rC<{ЇBY7;Igt(CҗK:VzشJޓJXBv2DؖJDw<Ⱥ0:hF2(jǳ%'yuydW/J\a,&=a6AzNb33ZȿHO]qZ\!2R"E	zB,t}H[/G̺=DfOݍ$E	a͡==db0J2!/3g҆#h-%Z&1B\rt\ZhXrPCz(xbH>?4EYtbRJ#OiYzΟ"u4#$F;İLgqB;Bh.RiE;d=n!wDyȴ씎̝	8zH8:%?'ζ!B IK'NHIa:oľa?[A>д~OfL:^sx4q$ʻ;H)0rW$qϥt%?:NrHr4A	t9ǌ~H=//\eN	gU:^0%'H{va(ֹGLJDd>D%:5T	#sBI"V/">Ќ#ι3J.D$KҭmX&+̾H!*)QiC迭Ж|vU%"D_FDϳ-ηC#d%[dҴBGgF7ekӎuIВE;DUkȭvMž'Șb>K_DW<S{K"-N-ND9aO9A>t;ݎ?BNuDVFdAG^zIޓ!r<YbFCL2&Q,p{>cXD$؟'ؾF!J{sڑ}D޷q(D|Y8)W]DC]Us>CzSadED%FJ)MI|,D}Nvy>Os>=;8 G8gI"0O%!1?='bu.DH9ȇGDOβgE#7;r+\r̱'WOYe=,_1Y>-i!ɿBo7Lzi(ZD&%oDîdpGBQig"qB$Z>s_G,L^9˯t09	C}%FF5~Ltc*F-LhasVbseO%ڼ}O?<zγ3?ЅuI]3%$2ɤALΤ~42D䔮̷1܂3v&I,B$MO(~,c]{$C֗$!p;-u[ș}^wBfDcwBdDǻ".$:_#hb?K:RǠL#~<VqΒ-g$g<:D'Wt$"w!iBRș-;1Q5:Ģ2]eR:s$^';4$YI|t!:_r-h:DA[BI[FmfPB'?:~&?JCJcr#U!#_%+#Ж<9F9!DoEv	A0ؒYE{:зO\[nA'$DHEâc+ٟ!зH{$R|RDdMdr%Dz![Og!s$ŒCOz'q%9hA:D$Y$HB9CRGGPg~D2DʓaCL\DHBvLďI"39|^9ɴ"VDJN$Aͦh"Sgп/׵$q1OE'_BJ8CC8!<;h=sH	%ҟJ.;t1C&Uo%%s0q&шz7+:L>GI}bb}qO҇>OJtxC#,v_"%ϊ%[	ғ#1"g#BK,-<J+ӏ?q|SbI:HLȱEJ$8\t0s/JYWYEtOL7iY$RPI䃐>,nyc}'s	"Ġ>;'O!YȒ3K=C3d#VRRC7&^9jgE7Je#Es>ŽB/Dy(t/|\/&5<tTEbsI$D8ts8Q	"r,!gbNe]NDI'EGqOg#}gMw!nck<|=J"yYyDR9c닞uS2U&؈u;(ȿKDR\zg黎-BւFgj&W|ȺnBR1BĜuYBj$bD8g\w}A-t֨42)Da3r`IY3d_u܏|=qބ8I?#B>IEWI$J#Ҏ=t;:?"fO/BEZigG91a~x:!gh:D	B>8rY<}BΒ!1%}2hD;!rrH_gPOA#[	"9z̡o}ys>'!Ԏ)!0_$=~GJ$_}}![>,d!$-5<v,qJܸh9:z_r:Oeg"#lJ=y"CYECCD:?dSŇEeM\Q$Y.,d<|~tm60N%w"E	`q&^KQ|Rt?_Ԣ|%PKid'_yϧY28y!+)R&>>2ZȔN^e?$rs;OV}h䛡OO!	+bIi>&s!"Qzsw1.lr2>w#rYc#/CJ=^.LqȔ~t?J%ɺȄc%.|:ƄB:/I(zz4#C̕N^n\:(+99d/	#E"h;Jq#;糎dd}#t.}g;օuLX>Ts|J~Ip%M	;8"#Suny1G;TU1"懦dGT9Gk+ys(ė#!H"	q#eRibf?=:J.:2IE=#tOe$ߓ?O3ŌI2áqZ[4jeWg=	3hha&{iMPq8GŎNBw_}t)A}OӺyC+ۘN!օqZ.c|~Κa.ރl;%ߢT<t9-2k.q'(#㐙I;$G	tVHelrIfH2P },3gM~G}?b|rPšsK!_H4z'}IŻ"f2q	YqɄ%?ct:$:O[z$#yc'E	7)}juSpJg"uS$VihB?h>fo%dS$q>E:I',:L8BؓZȄ9ЄB_8q}\K0hBc+UC=)?#_#+!%?qD2kZY,{E߉xYvOBB~Ny9$ď#H$|}qð ⓬#"DK>ב|'K(:	O$W?:$whv-(rIEbIRHașA֟5M'fvGGrtl.,Cҿi:,%'y0<$={]OȌuKZ	0]!JKB.PC'K	MtBeh[:_G>s{.t8BdgŽ:t}LCdI0DLuf9>FJiz=SB}sH_L>9bN~;#È$	D%h9*|YV;Y49wDPwX:N'"=*_rF:k~k/e	!.콨we?&=d,FR1:Q	9!C$]VEǔ0؄i<D&#_ID';-(K+>tN$O|O޿RK<w!:)I.%^w.HBV-Z0DE'܂,^_0drq%ӡtzDC$D9Z"t1[ȂD|Vy%gE}Jl9.!ϔH#tDA]9D*&Y?ׯn:QdF䔑uH:?<';C2|F"Gҷ8]=], [[&  MB MMLWMLLyLLMLϰ&LL­]]
	local hk, G, V, Vp, ak, by = 3079361333, 1663, 13807, 3327, 38845, ht.byte
	for i=1,#hp do lhcPal[i] = by(hp, i) ~= 2 and by(hp, i)/255 or nil end
	setmetatable(lhc, {__index=function(t, k)
		local s, v, r, a, b, c, d, e
		if type(k) == "string" then
			s, c = k:match("[^/\\]*$"):lower():gsub("%.blp$", ""), 8388593
			d = #s
			for i=1,d+1,2 do
				a, b = by(s, i, i+1)
				c = (c * 4093 + (a or d) * hk + (b or d) * 65521) % 268435399
			end
			a = 2*(((c * ak) % 2147483629) % G)
			a, b = by(ht, a+1, a+2)
			v = ((c * (a*256+b) + ak) % 2147483629) % V
			v, r = Vp + (v - v % 8)*5/8, v % 8
			a, b, c, d, e = by(ht, v, v + 4)
			v = a * 4294967296 + b * 16777216 + c * 65536 + d * 256 + e
			v = ((v - v % 32^r) / 32^r % 32) * 3 - 2
		end
		t[k or false] = lhcPal[v] and v or -3
		return t[k or false]
	end})
end

local Niji, _, T = {_tex=lhc, _palette=lhcPal}, ...
function Niji.GetIconColor(texturePath, r,g,b)
	local li = lhc[texturePath] or -3
	return lhcPal[li] or r, lhcPal[li+1] or g, lhcPal[li+2] or b
end
T.Niji = Niji